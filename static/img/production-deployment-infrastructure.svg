<svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg" font-family="system-ui, -apple-system, sans-serif">
  <!-- Background -->
  <rect width="900" height="600" fill="#f8fafc" rx="12"/>
  <text x="450" y="36" text-anchor="middle" font-size="18" font-weight="700" fill="#1e293b">Production Deployment Infrastructure</text>
  <text x="450" y="56" text-anchor="middle" font-size="12" fill="#64748b">CI/CD · Model Registry · Feature Store · Monitoring · Incident Response</text>

  <defs>
    <marker id="pBlue" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#3b82f6"/>
    </marker>
    <marker id="pGreen" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#22c55e"/>
    </marker>
    <marker id="pAmber" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#f59e0b"/>
    </marker>
    <marker id="pRed" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#ef4444"/>
    </marker>
    <marker id="pGray" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Column 1: Development -->
  <rect x="30" y="80" width="170" height="430" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="115" y="105" text-anchor="middle" font-size="13" font-weight="700" fill="#1d4ed8">Development</text>
  <rect x="45" y="115" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="130" text-anchor="middle" font-size="10" fill="#1e40af">Research Notebook</text>
  <text x="115" y="145" text-anchor="middle" font-size="9" fill="#3b82f6">Experimentation</text>
  <rect x="45" y="165" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="180" text-anchor="middle" font-size="10" fill="#1e40af">Backtesting Suite</text>
  <text x="115" y="195" text-anchor="middle" font-size="9" fill="#3b82f6">Walk-forward validation</text>
  <rect x="45" y="215" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="230" text-anchor="middle" font-size="10" fill="#1e40af">Unit &amp; Integration Tests</text>
  <text x="115" y="245" text-anchor="middle" font-size="9" fill="#3b82f6">pytest / hypothesis</text>
  <rect x="45" y="265" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="280" text-anchor="middle" font-size="10" fill="#1e40af">Model Registry</text>
  <text x="115" y="295" text-anchor="middle" font-size="9" fill="#3b82f6">MLflow / W&amp;B</text>
  <rect x="45" y="315" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="330" text-anchor="middle" font-size="10" fill="#1e40af">Feature Store</text>
  <text x="115" y="345" text-anchor="middle" font-size="9" fill="#3b82f6">Feast / Tecton</text>
  <rect x="45" y="365" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="380" text-anchor="middle" font-size="10" fill="#1e40af">CI/CD Pipeline</text>
  <text x="115" y="395" text-anchor="middle" font-size="9" fill="#3b82f6">GitHub Actions / ArgoCD</text>
  <rect x="45" y="415" width="140" height="40" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="430" text-anchor="middle" font-size="10" fill="#1e40af">Canary / Shadow Mode</text>
  <text x="115" y="445" text-anchor="middle" font-size="9" fill="#3b82f6">Parallel live shadow run</text>
  <rect x="45" y="465" width="140" height="30" rx="6" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="115" y="484" text-anchor="middle" font-size="10" fill="#1e40af">Promote → Production</text>

  <!-- Arrow to Production -->
  <line x1="200" y1="295" x2="238" y2="295" stroke="#3b82f6" stroke-width="1.8" marker-end="url(#pBlue)"/>

  <!-- Column 2: Production Runtime -->
  <rect x="240" y="80" width="200" height="430" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="340" y="105" text-anchor="middle" font-size="13" font-weight="700" fill="#92400e">Production Runtime</text>
  <rect x="255" y="115" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="130" text-anchor="middle" font-size="10" fill="#92400e">Co-located Inference Server</text>
  <text x="340" y="145" text-anchor="middle" font-size="9" fill="#b45309">GPU / FPGA accelerated</text>
  <rect x="255" y="165" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="180" text-anchor="middle" font-size="10" fill="#92400e">Feature Pipeline</text>
  <text x="340" y="195" text-anchor="middle" font-size="9" fill="#b45309">Real-time feature assembly</text>
  <rect x="255" y="215" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="230" text-anchor="middle" font-size="10" fill="#92400e">World Model Inference</text>
  <text x="340" y="245" text-anchor="middle" font-size="9" fill="#b45309">Encoder + Dynamics forward</text>
  <rect x="255" y="265" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="280" text-anchor="middle" font-size="10" fill="#92400e">Signal Decoder</text>
  <text x="340" y="295" text-anchor="middle" font-size="9" fill="#b45309">Price distribution → signal</text>
  <rect x="255" y="315" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="330" text-anchor="middle" font-size="10" fill="#92400e">Pre-trade Risk Engine</text>
  <text x="340" y="345" text-anchor="middle" font-size="9" fill="#b45309">Hard limits · Kill switch</text>
  <rect x="255" y="365" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="380" text-anchor="middle" font-size="10" fill="#92400e">Order Management System</text>
  <text x="340" y="395" text-anchor="middle" font-size="9" fill="#b45309">FIX / native API gateway</text>
  <rect x="255" y="415" width="170" height="40" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="430" text-anchor="middle" font-size="10" fill="#92400e">Position &amp; PnL Tracker</text>
  <text x="340" y="445" text-anchor="middle" font-size="9" fill="#b45309">Real-time attribution</text>
  <rect x="255" y="465" width="170" height="30" rx="6" fill="#fffbeb" stroke="#fcd34d" stroke-width="1"/>
  <text x="340" y="484" text-anchor="middle" font-size="10" fill="#92400e">Execution Reports</text>

  <!-- Arrow to Monitoring -->
  <line x1="440" y1="295" x2="478" y2="295" stroke="#f59e0b" stroke-width="1.8" marker-end="url(#pAmber)"/>

  <!-- Column 3: Observability -->
  <rect x="480" y="80" width="190" height="430" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="1.5"/>
  <text x="575" y="105" text-anchor="middle" font-size="13" font-weight="700" fill="#15803d">Observability</text>
  <rect x="495" y="115" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="130" text-anchor="middle" font-size="10" fill="#15803d">Latency Dashboard</text>
  <text x="575" y="145" text-anchor="middle" font-size="9" fill="#16a34a">p50 · p95 · p99 µs</text>
  <rect x="495" y="165" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="180" text-anchor="middle" font-size="10" fill="#15803d">Model Drift Detection</text>
  <text x="575" y="195" text-anchor="middle" font-size="9" fill="#16a34a">PSI · KS test · KL divergence</text>
  <rect x="495" y="215" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="230" text-anchor="middle" font-size="10" fill="#15803d">Signal Quality Monitor</text>
  <text x="575" y="245" text-anchor="middle" font-size="9" fill="#16a34a">IC rolling · Hit rate</text>
  <rect x="495" y="265" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="280" text-anchor="middle" font-size="10" fill="#15803d">Risk Metrics Stream</text>
  <text x="575" y="295" text-anchor="middle" font-size="9" fill="#16a34a">VaR · Greeks · Exposure</text>
  <rect x="495" y="315" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="330" text-anchor="middle" font-size="10" fill="#15803d">PnL Attribution</text>
  <text x="575" y="345" text-anchor="middle" font-size="9" fill="#16a34a">Alpha · Transaction cost</text>
  <rect x="495" y="365" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="380" text-anchor="middle" font-size="10" fill="#15803d">Structured Logging</text>
  <text x="575" y="395" text-anchor="middle" font-size="9" fill="#16a34a">ELK stack / Datadog</text>
  <rect x="495" y="415" width="160" height="40" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="430" text-anchor="middle" font-size="10" fill="#15803d">Alert Rules</text>
  <text x="575" y="445" text-anchor="middle" font-size="9" fill="#16a34a">PagerDuty / OpsGenie</text>
  <rect x="495" y="465" width="160" height="30" rx="6" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="575" y="484" text-anchor="middle" font-size="10" fill="#15803d">Compliance Audit Trail</text>

  <!-- Arrow to Incident Response -->
  <line x1="670" y1="295" x2="708" y2="295" stroke="#22c55e" stroke-width="1.8" marker-end="url(#pGreen)"/>

  <!-- Column 4: Incident Response -->
  <rect x="710" y="80" width="160" height="430" rx="10" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"/>
  <text x="790" y="105" text-anchor="middle" font-size="13" font-weight="700" fill="#b91c1c">Incident Response</text>
  <rect x="725" y="115" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="130" text-anchor="middle" font-size="10" fill="#b91c1c">Anomaly Alert</text>
  <text x="790" y="145" text-anchor="middle" font-size="9" fill="#dc2626">Signal / Risk / Latency</text>
  <rect x="725" y="165" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="180" text-anchor="middle" font-size="10" fill="#b91c1c">Auto-Throttle</text>
  <text x="790" y="195" text-anchor="middle" font-size="9" fill="#dc2626">Reduce position velocity</text>
  <rect x="725" y="215" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="230" text-anchor="middle" font-size="10" fill="#b91c1c">Circuit Breaker</text>
  <text x="790" y="245" text-anchor="middle" font-size="9" fill="#dc2626">Halt new orders</text>
  <rect x="725" y="265" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="280" text-anchor="middle" font-size="10" fill="#b91c1c">Kill Switch</text>
  <text x="790" y="295" text-anchor="middle" font-size="9" fill="#dc2626">Flatten all positions</text>
  <rect x="725" y="315" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="330" text-anchor="middle" font-size="10" fill="#b91c1c">Fallback Strategy</text>
  <text x="790" y="345" text-anchor="middle" font-size="9" fill="#dc2626">Rule-based backup</text>
  <rect x="725" y="365" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="380" text-anchor="middle" font-size="10" fill="#b91c1c">Post-mortem</text>
  <text x="790" y="395" text-anchor="middle" font-size="9" fill="#dc2626">Root cause · Retraining</text>
  <rect x="725" y="415" width="130" height="40" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="430" text-anchor="middle" font-size="10" fill="#b91c1c">Model Rollback</text>
  <text x="790" y="445" text-anchor="middle" font-size="9" fill="#dc2626">Previous champion version</text>
  <rect x="725" y="465" width="130" height="30" rx="6" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="790" y="484" text-anchor="middle" font-size="10" fill="#b91c1c">Regulatory Notification</text>

  <!-- Feedback loop arrow from Incident Response back to Development -->
  <path d="M 790 510 Q 790 560 115 560 Q 115 515 115 510" stroke="#94a3b8" stroke-width="1.4" fill="none" stroke-dasharray="5,3" marker-end="url(#pGray)"/>
  <text x="450" y="572" text-anchor="middle" font-size="10" fill="#64748b" font-style="italic">continuous improvement loop</text>
</svg>
