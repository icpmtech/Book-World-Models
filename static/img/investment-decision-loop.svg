<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 520" width="820" height="520" font-family="Arial, sans-serif">
  <!-- Background -->
  <rect width="820" height="520" fill="#f8f9fc" rx="12"/>

  <!-- Title -->
  <text x="410" y="36" text-anchor="middle" font-size="18" font-weight="bold" fill="#1a1a2e">World Model Decision Loop for Stock Markets</text>

  <!-- Step 1: Market Observation -->
  <rect x="30" y="60" width="155" height="130" rx="8" fill="#fff" stroke="#3498db" stroke-width="2"/>
  <rect x="30" y="60" width="155" height="32" rx="8" fill="#3498db"/>
  <text x="107" y="81" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">1. Observe</text>
  <text x="45" y="112" font-size="10" fill="#555">Price &amp; volume data</text>
  <text x="45" y="126" font-size="10" fill="#555">Earnings, macro data</text>
  <text x="45" y="140" font-size="10" fill="#555">Sentiment signals</text>
  <text x="45" y="154" font-size="10" fill="#555">Order flow / liquidity</text>
  <text x="45" y="168" font-size="10" fill="#555">Options market data</text>

  <!-- Arrow 1→2 -->
  <line x1="185" y1="125" x2="215" y2="125" stroke="#3498db" stroke-width="2" marker-end="url(#a1)"/>

  <!-- Step 2: Encode State -->
  <rect x="215" y="60" width="155" height="130" rx="8" fill="#fff" stroke="#9b59b6" stroke-width="2"/>
  <rect x="215" y="60" width="155" height="32" rx="8" fill="#9b59b6"/>
  <text x="292" y="81" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">2. Encode State</text>
  <text x="230" y="112" font-size="10" fill="#555">Compress into latent</text>
  <text x="230" y="126" font-size="10" fill="#555">vector z_t ∈ ℝⁿ</text>
  <text x="230" y="140" font-size="10" fill="#555">Regime classification</text>
  <text x="230" y="154" font-size="10" fill="#555">Risk state estimate</text>
  <text x="230" y="168" font-size="10" fill="#555">Uncertainty quantify</text>

  <!-- Arrow 2→3 -->
  <line x1="370" y1="125" x2="400" y2="125" stroke="#9b59b6" stroke-width="2" marker-end="url(#a2)"/>

  <!-- Step 3: Simulate Futures -->
  <rect x="400" y="60" width="155" height="130" rx="8" fill="#fff" stroke="#e67e22" stroke-width="2"/>
  <rect x="400" y="60" width="155" height="32" rx="8" fill="#e67e22"/>
  <text x="477" y="81" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">3. Simulate</text>
  <text x="415" y="112" font-size="10" fill="#555">Roll out 10k+ paths</text>
  <text x="415" y="126" font-size="10" fill="#555">Inject macro shocks</text>
  <text x="415" y="140" font-size="10" fill="#555">Test counterfactuals</text>
  <text x="415" y="154" font-size="10" fill="#555">Vary risk parameters</text>
  <text x="415" y="168" font-size="10" fill="#555">Multi-horizon forecast</text>

  <!-- Arrow 3→4 -->
  <line x1="555" y1="125" x2="585" y2="125" stroke="#e67e22" stroke-width="2" marker-end="url(#a3)"/>

  <!-- Step 4: Decide & Optimize -->
  <rect x="585" y="60" width="205" height="130" rx="8" fill="#fff" stroke="#27ae60" stroke-width="2"/>
  <rect x="585" y="60" width="205" height="32" rx="8" fill="#27ae60"/>
  <text x="687" y="81" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">4. Decide &amp; Optimize</text>
  <text x="600" y="112" font-size="10" fill="#555">Select optimal allocation</text>
  <text x="600" y="126" font-size="10" fill="#555">Hedge tail risk positions</text>
  <text x="600" y="140" font-size="10" fill="#555">Maximize Sharpe ratio</text>
  <text x="600" y="154" font-size="10" fill="#555">Define stop-loss rules</text>
  <text x="600" y="168" font-size="10" fill="#555">Set position sizing</text>

  <!-- Feedback Arrow (bottom) -->
  <path d="M 687 190 L 687 230 L 107 230 L 107 190" stroke="#95a5a6" stroke-width="1.5" fill="none" stroke-dasharray="6,4" marker-end="url(#a-grey)"/>
  <text x="410" y="248" text-anchor="middle" font-size="11" fill="#7f8c8d">← Feedback: market outcome updates model beliefs →</text>

  <!-- Horizontal divider -->
  <line x1="30" y1="268" x2="790" y2="268" stroke="#ddd" stroke-width="1" stroke-dasharray="6,4"/>

  <!-- Decision support metrics section -->
  <text x="410" y="292" text-anchor="middle" font-size="13" font-weight="bold" fill="#2c3e50">Decision Support Outputs</text>

  <!-- Metric boxes -->
  <rect x="30" y="305" width="145" height="90" rx="8" fill="#eaf4fb" stroke="#3498db" stroke-width="1.5"/>
  <text x="102" y="325" text-anchor="middle" font-size="11" font-weight="bold" fill="#1a5276">Expected Return</text>
  <text x="102" y="344" text-anchor="middle" font-size="19" font-weight="bold" fill="#2471a3">+8.4%</text>
  <text x="102" y="364" text-anchor="middle" font-size="10" fill="#555">12-month horizon</text>
  <text x="102" y="380" text-anchor="middle" font-size="10" fill="#555">[+2% to +18%] 90% CI</text>

  <rect x="192" y="305" width="145" height="90" rx="8" fill="#f9ebea" stroke="#e74c3c" stroke-width="1.5"/>
  <text x="264" y="325" text-anchor="middle" font-size="11" font-weight="bold" fill="#922b21">Max Drawdown Risk</text>
  <text x="264" y="344" text-anchor="middle" font-size="19" font-weight="bold" fill="#c0392b">–14%</text>
  <text x="264" y="364" text-anchor="middle" font-size="10" fill="#555">5th pctile worst path</text>
  <text x="264" y="380" text-anchor="middle" font-size="10" fill="#555">median: –6.2%</text>

  <rect x="354" y="305" width="145" height="90" rx="8" fill="#e9f7ef" stroke="#27ae60" stroke-width="1.5"/>
  <text x="426" y="325" text-anchor="middle" font-size="11" font-weight="bold" fill="#1e8449">Sharpe Ratio</text>
  <text x="426" y="344" text-anchor="middle" font-size="19" font-weight="bold" fill="#229954">1.42</text>
  <text x="426" y="364" text-anchor="middle" font-size="10" fill="#555">risk-adjusted return</text>
  <text x="426" y="380" text-anchor="middle" font-size="10" fill="#555">vs benchmark: 0.87</text>

  <rect x="516" y="305" width="145" height="90" rx="8" fill="#fef9e7" stroke="#f39c12" stroke-width="1.5"/>
  <text x="588" y="325" text-anchor="middle" font-size="11" font-weight="bold" fill="#784212">Recession P(12m)</text>
  <text x="588" y="344" text-anchor="middle" font-size="19" font-weight="bold" fill="#d68910">22%</text>
  <text x="588" y="364" text-anchor="middle" font-size="10" fill="#555">probability estimate</text>
  <text x="588" y="380" text-anchor="middle" font-size="10" fill="#555">based on 10k sims</text>

  <rect x="678" y="305" width="112" height="90" rx="8" fill="#f4ecf7" stroke="#8e44ad" stroke-width="1.5"/>
  <text x="734" y="325" text-anchor="middle" font-size="11" font-weight="bold" fill="#6c3483">VIX Forecast</text>
  <text x="734" y="344" text-anchor="middle" font-size="19" font-weight="bold" fill="#7d3c98">26–34</text>
  <text x="734" y="364" text-anchor="middle" font-size="10" fill="#555">3-month range</text>
  <text x="734" y="380" text-anchor="middle" font-size="10" fill="#555">regime: caution</text>

  <!-- Key benefit banner -->
  <rect x="30" y="410" width="760" height="90" rx="8" fill="#fff9e6" stroke="#f39c12" stroke-width="1.5"/>
  <text x="410" y="434" text-anchor="middle" font-size="12" font-weight="bold" fill="#784212">World Models Transform Investment Decision-Making</text>
  <text x="410" y="455" text-anchor="middle" font-size="11" fill="#555">Traditional PM: 10–20 scenarios/quarter via judgment → World Model: 10,000+ scenarios/second via simulation</text>
  <text x="410" y="474" text-anchor="middle" font-size="11" fill="#555">Outcome: Better risk-adjusted returns, faster adaptation, quantified uncertainty at every decision point</text>
  <text x="410" y="493" text-anchor="middle" font-size="11" fill="#555">Evidence: Reinforcement learning agents using world models outperform baselines in multi-asset allocation tasks</text>

  <defs>
    <marker id="a1" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#3498db"/>
    </marker>
    <marker id="a2" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#9b59b6"/>
    </marker>
    <marker id="a3" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#e67e22"/>
    </marker>
    <marker id="a-grey" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#95a5a6"/>
    </marker>
  </defs>
</svg>
